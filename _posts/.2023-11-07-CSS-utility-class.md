---
title: "[React] CSS 유틸리티 클래스와 관심사 분리; tailwindcss, typescript, className"
date: 2023-11-07
published: true
toc: true
toc_sticky: true
last_modified_at: 2023-11-07

categories:
  - React
tags:
  - tailwindcss
  - typescript
  - 42HelloWorld
---

_"이 글은 [CSS Utility Classes and "Separation of Concerns"](https://adamwathan.me/css-utility-classes-and-separation-of-concerns/) 글을 번역하여 해석한 글입니다. 해석하는 과정에서 주관적인 견해가 포함되었을 수 있습니다."_

## 본문

지난 수 년동안 나의 CSS를 작성하는 방법이 "의미론적(semantic) CSS"에서 "기능적(functional) CSS"로 변화하였습니다. 기능적인 CSS를 사용하는 것에 어떻게 도달했고, 어떤 통찰력과 깨달음이 있었는지를 공유하려고 합니다.

- 의미론적(semantic) CSS

  - 클래스나 선택자의 이름을 HTML의 의미나 구조에 따라 지정하는 방식입니다.
  - HTML 요소가 스타일에 어떤 의미를 지니는지 파익하기 쉽고, 가독성이 좋을 수 있습니다.

- 기능적(functional) CSS

  - 작고 단일한 클래스들을 사용하여 스타일을 지정하는 방식입니다.
  - 클래스 이름은 해당 클래스가 하는 기능을 설명하거나, 특정한 스타일을 가리킵니다.
  - HTML 구조와 독립적으로 디자인을 적용할 수 있으며, 작은 단위의 클래스를 조합하여 디자인을 구현할 수 있습니다.

### 1. 의미론적(semantic) CSS

CSS를 잘 배우는 방법 중 하나는 "관심사를 분리"하는 것이라고 익히 들어왔을 것입니다. 다시 말해서, HTML을 작성할 때는 컨텐츠에 구애받지 않는 클래스에 대한 정보만 포함되어 있어야 하고, 스타일에 관한 정보는 CSS 파일에 있어야 한다는 것입니다.

> 관심사 분리 :

아래와 같은 방식으로 HTML을 작성하는 것은 스타일에 관한 정보를 HTML에 포함하였기 때문에 "관심사를 분리"하는 규칙을 어긴 것입니다.

```html
<style>
  .text-center {
    text-align: center;
  }
</style>

<p class="text-center">Hello there!</p>
```

반면에 아래와 같이 클래스 이름을 스타일과 관련없이 짓는다면, HTML 자체를 수정하지 않고도 스타일을 수정할 수 있습니다. 즉, 관심사를 분리할 수 있습니다. "관심사을 분리"하면 **스타일시트를 교체하는 것만으로도 사이트를 완전히 다시 디자인할 수 있다**는 장점이 있습니다. 또한, HTML과 CSS의 관계를 유연하게 만들어 유지보수를 쉽게 합니다.

```html
<style>
  .greeting {
    text-align: center;
  }
</style>

<p class="greeting">Hello there!</p>
```

하지만 의미론적(semantic) CSS를 적용하여 관심사를 분리하여도, HTML과 CSS 사이에는 분명한 결합이 존재합니다. 아래 CSS 코드에서 `.profile` 클래스 하위의 `img`, `p` 태그는 HTML 구조를 여전히 반영하고 있습니다. 다시 말해, HTML은 CSS에 관심이 없지만 **CSS는 HTML 구조에 매우 관심이 많았습니다.** 의미론적(semantic) CSS를 적용하는 방법이 어쩌면 관심사를 분리하지 않았을 수도 있습니다.

```css
.profile {
  background-color: white;
}

.profile img {
  display: block;
  width: 100%;
  height: auto;
}

.profile div p {
  font-size: 1rem;
}
```

```html
<div class="profile">
  <img src="https://cdn.example.com/chanhyle" alt="profile" />
  <div>
    <h2>chanhyle</h2>
    <p>hello world!</p>
  </div>
</div>
```

### 2. CSS에서 구조를 분리

CSS 파일에서 HTML 구조를 반영하는 문제점을 해결하기 위해, 선택자가 HTML 태그를 직접 가리키도록 클래스를 추가해 보았습니다. Block Element Modifier(BEM) 라고도 부릅니다.

```css
.profile {
  background-color: white;
}

.profile_image {
  display: block;
  width: 100%;
  height: auto;
}

.profile_body {
  font-size: 1rem;
}
```

```html
<div class="profile">
  <img
    class="profile_image"
    src="https://cdn.example.com/chanhyle"
    alt="profile"
  />
  <div>
    <h2>chanhyle</h2>
    <p class="profile_body">hello world!</p>
  </div>
</div>
```

HTML은 이미 스타일에 관심이 없었고, CSS 또한 HTML 구조로부터 자유로워졌기 때문에 관심사가 분리되었다고 할 수 있습니다. 하지만 이 방법에서는 또 다른 문제가 있습니다. 바로 재사용의 문제입니다.

예를 들어, `profile` 클래스와 매우 비슷한 스타일이 비슷한 `article` 클래스를 구현해야 하는 경우입니다. 방법은 크게 두 가지가 있을 것입니다.

첫 번째는 그대로 복사하는 방법입니다. 여전히 관심사는 분리되었지만 재사용이 전혀 되지 않았습니다. 만약 스타일을 일괄적으로 변경해야 하는 경우, 유지보수성이 떨어집니다.

```css
.article {
  background-color: white;
}

.article_image {
  display: block;
  width: 100%;
  height: auto;
}

.article_body {
  font-size: 1rem;
}
```

두 번째는 추상화하는 방법입니다. `profile` 과 `article` 은 의미론적 관점에서는 공통점이 없지만, 스타일 관점에서는 공통점이 존재합니다. 따라서 두 클래스를 `media-card` 라는 컨텐츠에 구애받지 않는 클래스(content-agnostic component) 로 추상화하여 재사용성을 확보할 수 있습니다.

```css
.media-card {
  background-color: white;
}

.media-card_image {
  display: block;
  width: 100%;
  height: auto;
}

.media-card_body {
  font-size: 1rem;
}
```

재사용성 문제는 해결했지만, 이 방법은 관심사가 다시 결합될 수 있는 문제점이 존재합니다. 두 클래스의 스타일이 미래에도 완전히 같다면 다행이겠지만, 둘 중 하나를 변경해야 한다면 어떻게 될까요? 결국에는 HTML에 새로운 클래스를 추가해야 할 것입니다. 즉, **CSS 파일 안에서 해결하지 못하기 때문에 관심사가 다시 결합되었다고 볼 수 있습니다.**

```html
<div class="media-card">
  <img
    class="media-card_image"
    src="https://cdn.example.com/chanhyle"
    alt="media-card"
  />
  <div>
    <h2>chanhyle</h2>
    <p class="media-card_body profile_body">hello world!</p>
  </div>
</div>
```

> 결국, "관심사의 분리"만 핵심이 아니다!

HTML과 CSS의 관계를 관심사 분리의 대상으로 본다면, 흑백논리일 수 밖에 없습니다. "관심사가 분리되었다면 좋고, 분리되지 않았다면 나쁘다"는 것은 올바른 방법이 아닙니다. 대신 **_의존 방향_**이라는 측면에서 생각해봅시다.

1. HTML에 의존하는 CSS

- HTML <- CSS
- 스타일을 수정해야 할 때, HTML은 고정되어있고 CSS를 수정해야 합니다.
- HTML에서는 CSS의 참조 지점(또는 훅)을 설정합니다.
- `profile` 처럼 컨텐츠에 기반해 클래스 이름을 짓는 방법입니다.
- 관심사는 분리(restylable)되었으나, 재사용성(reusable)이 떨어집니다.

2. CSS에 의존하는 HTML

- HTML -> CSS
- 스타일을 수정해야 할 때, CSS는 고정되어있고 HTML을 수정해야 합니다.
- 미리 정의된 CSS 클래스를 결합하여 사용합니다.
- `media-card` 처럼 컨텐츠에 구애받지 않는 클래스 이름을 짓는 방법입니다.
- 재용성(reusable)을 확보했으나, 관심사를 분리(restyleable)하지 못합니다.

둘 다 본질적으로 잘못된 것은 아닙니다. 단지 상황에 따라 어떤 측면이 더 중요한지에 따라 결정해야 하는 것입니다. 즉, 관심사가 분리(restyleable)된 HTML과 재사용(reusable) 가능한 CSS 중 어떤 것이 더 가치있는가의 문제입니다.

Nicolas Gallagher의 [About HTML semantics and front-end Architecture](https://nicolasgallagher.com/about-html-semantics-front-end-architecture/)를 읽고 재사용 가능한 CSS가 내 프로젝트에 적합하다는 것을 확신하게 되었습니다.

### 3. 컨텐츠에 구애받지 않는 클래스
